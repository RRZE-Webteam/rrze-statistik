{"version":3,"file":"highchartsIndex.js","mappings":"sBAAAA,QAAO,SAASC,GACf,IAAIC,EAAW,GAEfD,EAAE,oDAAoDE,OAAM,WAC3D,IAAIC,EAASH,EAAEI,MAiBf,OAhBAH,EAAWD,EAAEI,MAAMC,SAASA,SAASA,SAASA,SAASC,KAAK,MAC5DN,EAAEO,KAAK,CACNC,IAAKC,QACLC,KAAM,OACNC,KAAM,kBACNC,WAAa,SAAUC,GAEtBV,EAAOW,OAAOC,OAAO,6FAEtBC,QAAU,SAAUL,GAEnBR,EAAOc,OAAOC,SAEdlB,EAAE,IAAMC,GAAUkB,KAAK,WAAWC,KAAKT,OAGlC,KAIRX,EAAE,QAAQqB,GAAG,SAAU,4BAA4B,WAClD,IAAIC,EAAOtB,EAAEI,MAgBb,OAfAJ,EAAEO,KAAK,CACNC,IAAKC,QACLC,KAAM,OACNC,KAAMX,EAAEI,MAAMmB,YAAR,oBAAmCtB,GACzCW,WAAa,SAAUC,GAEtBS,EAAKH,KAAK,WAAWK,OAAO,+GAE7BR,QAAU,SAAUL,GACnBX,EAAE,iCAAiCmB,KAAK,WAAWC,KAAKT,GAExDX,EAAE,oDAAoDyB,OACtDC,OAAOC,SAASC,aAGX,S,SC1CT,IAAIC,GAAc,IAAIC,MAAOC,cAC7BC,QAAQC,IAAKC,sBAAsBC,kBAGnCC,SAASC,iBAAiB,oBAAoB,SAAUC,GAEpD,GAA+C,cAA3CJ,sBAAsBC,iBAA1B,CAIII,UAAY,CAAC,SAAU,OAAQ,QAAS,QAAS,UACjDC,WAAa,GAEbD,UAAUE,SAAS,SAAAC,GACXN,SAASO,eAAeD,IACxBF,WAAWI,KAAKF,MAKxB,IAAMG,EAAYhB,EAAc,EAC1BiB,EAAajB,EAAc,EAC3BkB,EAAYlB,EAGlBW,WAAWC,SAAQ,SAACO,GAChB,IAAIC,EAAa,SAACC,EAASC,GAIvB,OAHaD,EAAQE,QAAO,SAACzC,GACzB,OAAOA,EAAKwC,OAASA,EAAKE,eAI9BC,EAAkBL,EAAWf,sBAAsBC,iBAAkBY,GACrEQ,EAAmBN,EAAWf,sBAAsBC,iBAAkBW,GAItEU,EAAmB,SAACN,GACpB,IAcIO,EAde,CACf,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAUJ,OALAP,EAAQT,SAAQ,SAAC9B,GACb8C,EAAcC,SAAS/C,EAAKgD,OAAS,GAAKD,SACtC/C,EAAKqC,OAGNS,GAIPG,EAAmBJ,EA9BDP,EAAWf,sBAAsBC,iBAAkBU,IA+BrEgB,EAAoBL,EAAiBD,GACrCO,EAAmBN,EAAiBF,GAGpCS,EAASC,WAAWC,aAAaF,OAG/BG,EAAQF,WAAWE,MAAMlB,EAAU,CACrCkB,MAAO,CACHxD,KAAMwB,sBAAsBiC,YAC5BC,SAAUpB,GAGdqB,OAAQ,CACJC,YAAa,IAGjBC,MAAO,CACHC,KAAMtC,sBAAsBuC,gBAAgBzB,GAAU0B,gBAG1DC,MAAO,CACHJ,MAAO,CACHC,KAAMtC,sBAAsBuC,gBAAgBzB,GAAU4B,eAE1DC,cAAe,CACXC,YAAa5C,sBAAsBuC,gBAAgBzB,GAAU4B,gBAIrEG,MAAO,CACHR,MAAO,CACHC,KAAMtC,sBAAsB8C,eAEhCH,cAAe,CACXC,YAAa5C,sBAAsB+C,cAEvCC,WAAYhD,sBAAsBiD,yBAGtCC,QAAS,CACLC,YAAa,IAAF,OAAMnD,sBAAsBuC,gBAAgBzB,GAAU4B,gBAGrEU,YAAa,CACTC,OAAQ,CACJC,OAAQ,YAIhBD,OAAQ,CACJ,CACIE,KAAM5C,EAAUQ,WAChB1C,KAAMiD,EACN8B,MAAO3B,EAAO,GACd4B,OAAQ,GAEZ,CACIF,KAAM3C,EAAWO,WACjB1C,KAAMkD,EACN8B,OAAQ,EACRC,UAAW,eACXF,MAAO3B,EAAO,IAElB,CACI0B,KAAM1C,EAAUM,WAChB1C,KAAMmD,EACN6B,OAAQ,EACRC,UAAW,WACXF,MAAO3B,EAAO,KAItB8B,UAAW,CACPC,IAAK,CACDC,WAAY,eAKxB3D,SACKO,eAAeK,EAAW,WAE1BX,iBAAiB,SAAS,WACvB2D,UAAUC,UAAUC,UAAUhC,EAAMiC,qB,SCrJxDnC,WAAWoC,MAAQ,CACfJ,UAAW,CACPT,OAAQ,CACJG,MAAO,UACPW,UAAW,YAGnBnC,MAAO,CACHoC,gBAAiB,CACbC,eAAgB,CAAC,EAAG,EAAG,IAAK,KAC5BC,MAAO,CACH,CAAC,EAAG,sBACJ,CAAC,EAAG,yBAIhBjC,MAAO,CACHkC,MAAO,CACHf,MAAO,OACPgB,KAAM,4CAGdC,SAAU,CACNF,MAAO,CACHf,MAAO,UACPgB,KAAM,+CAGdrC,OAAQ,CACJuC,UAAW,CACPF,KAAM,qCACNhB,MAAO,SAEXmB,eAAe,CACXnB,MAAO,UAKnB1B,WAAW8C,WAAW9C,WAAWoC,SCtC7BW,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,IAOV,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,QCpBfJ,EAAoBO,EAAKF,IACxB,IAAIG,EAASH,GAAUA,EAAOI,WAC7B,IAAOJ,EAAiB,QACxB,IAAM,EAEP,OADAL,EAAoBU,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,GCLRR,EAAoBU,EAAI,CAACN,EAASQ,KACjC,IAAI,IAAIC,KAAOD,EACXZ,EAAoBc,EAAEF,EAAYC,KAASb,EAAoBc,EAAEV,EAASS,IAC5EE,OAAOC,eAAeZ,EAASS,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3Eb,EAAoBc,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,G","sources":["webpack://rrze-statistik/./src/highcharts/ajax.js","webpack://rrze-statistik/./src/highcharts/highcharts.js","webpack://rrze-statistik/./src/highcharts/themes/theme.js","webpack://rrze-statistik/webpack/bootstrap","webpack://rrze-statistik/webpack/runtime/compat get default export","webpack://rrze-statistik/webpack/runtime/define property getters","webpack://rrze-statistik/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["jQuery(function($){\n\tlet selector = '';\n\t// the Configure link click event\n\t$('[id^=\"rrze_statistik_widget\"] .edit-box.open-box').click(function(){\n\t\tvar button = $(this);\n\t\tselector = $(this).parent().parent().parent().parent().attr('id');\n\t\t$.ajax({\n\t\t\turl: ajaxurl, // it is predefined in /wp-admin/\n\t\t\ttype: 'POST',\n\t\t\tdata: 'action=showform',\n\t\t\tbeforeSend : function( xhr ){\n\t\t\t\t// add preloader\n\t\t\t\tbutton.hide().before('<span class=\"spinner\" style=\"visibility:visible;display:block;margin:0 0 0 15px\"></span>');\n\t\t\t},\n\t\t\tsuccess : function( data ){\n\t\t\t\t// remove preloader\n\t\t\t\tbutton.prev().remove();\n\t\t\t\t// insert settings form\n\t\t\t\t$('#' + selector).find('.inside').html(data);\n\t\t\t}\n\t\t});\n\t\treturn false;\n\t});\n\t\t\n\t// form submit event\n\t$('body').on('submit', '#rrze_statistik_settings', function(){\n\t\tvar form = $(this);\n\t\t$.ajax({\n\t\t\turl: ajaxurl,\n\t\t\ttype: 'POST',\n\t\t\tdata: $(this).serialize() + `&selector=${selector}`, // all form fields\n\t\t\tbeforeSend : function( xhr ){\n\t\t\t\t// add preloader just after the submit button\n\t\t\t\tform.find('.submit').append('<span class=\"spinner\" style=\"display:inline-block;float:none;visibility:visible;margin:0 0 0 15px\"></span>');\n\t\t\t},\n\t\t\tsuccess : function( data ){\n\t\t\t\t$('[id^=\"rrze_statistik_widget\"]').find('.inside').html(data);\n\t\t\t\t// show the Configure link again\n\t\t\t\t$('[id^=\"rrze_statistik_widget\"] .edit-box.open-box').show();\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t});\n\t\treturn false;\n\t});\n});","let currentYear = new Date().getFullYear();\nconsole.log( RRZESTATISTIKTRANSFER.linechartDataset );\n\n//data is passed from Transfer.php\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n    //Check if data was passed from PHP\n    if (RRZESTATISTIKTRANSFER.linechartDataset === \"undefined\") {\n        return;\n    } else {\n        //read needed charts from dom\n        dataTypes = [\"visits\", \"hits\", \"hosts\", \"files\", \"kbytes\"];\n        chartTypes = [];\n\n        dataTypes.forEach( dataType => {\n            if (document.getElementById(dataType)) {\n                chartTypes.push(dataType);\n            }\n        });\n\n        //Process dataset and split it based on the last three years\n        const firstYear = currentYear - 2;\n        const secondYear = currentYear - 1;\n        const thirdYear = currentYear;\n        \n        //Create the dataset for each datatype\n        chartTypes.forEach((datatype) => {\n            let filterData = (dataset, year) => {\n                let output = dataset.filter((data) => {\n                    return data.year === year.toString();\n                });\n                return output;\n            };\n            let outputThirdYear = filterData(RRZESTATISTIKTRANSFER.linechartDataset, thirdYear);\n            let outputSecondYear = filterData(RRZESTATISTIKTRANSFER.linechartDataset, secondYear);\n            let outputFirstYear = filterData(RRZESTATISTIKTRANSFER.linechartDataset, firstYear);\n\n            //Create an empty dataset array\n            let generateDatasets = (dataset) => {\n                let datasetDummy = [\n                    null,\n                    null,\n                    null,\n                    null,\n                    null,\n                    null,\n                    null,\n                    null,\n                    null,\n                    null,\n                    null,\n                    null,\n                ];\n                let datasetOutput = datasetDummy;\n\n                //Fill the empty Array with the length of 12 (one for each month)\n                dataset.forEach((data) => {\n                    datasetOutput[parseInt(data.month) - 1] = parseInt(\n                        data[datatype]\n                    );\n                });\n                return datasetOutput;\n            };\n\n            //Create three arrays, one for each year\n            let datasetFirstYear = generateDatasets(outputFirstYear);\n            let datasetSecondYear = generateDatasets(outputSecondYear);\n            let datasetThirdYear = generateDatasets(outputThirdYear);\n\n            //Load the theme colors\n            var colors = Highcharts.getOptions().colors;\n\n            //Create the Highcharts container for each datatype\n            const chart = Highcharts.chart(datatype, {\n                chart: {\n                    type: RRZESTATISTIKTRANSFER.displayType,\n                    renderTo: datatype,\n                },\n\n                legend: {\n                    symbolWidth: 40,\n                },\n\n                title: {\n                    text: RRZESTATISTIKTRANSFER.languagePackage[datatype].headline_chart,\n                },\n\n                yAxis: {\n                    title: {\n                        text: RRZESTATISTIKTRANSFER.languagePackage[datatype].ordinate_desc,\n                    },\n                    accessibility: {\n                        description: RRZESTATISTIKTRANSFER.languagePackage[datatype].ordinate_desc,\n                    },\n                },\n\n                xAxis: {\n                    title: {\n                        text: RRZESTATISTIKTRANSFER.abscissaTitle,\n                    },\n                    accessibility: {\n                        description: RRZESTATISTIKTRANSFER.a11yAbscissa,\n                    },\n                    categories: RRZESTATISTIKTRANSFER.abscissaDescriptiontext,\n                },\n\n                tooltip: {\n                    valueSuffix: ` ${RRZESTATISTIKTRANSFER.languagePackage[datatype].ordinate_desc}`,\n                },\n\n                plotOptions: {\n                    series: {\n                        cursor: \"pointer\",\n                    },\n                },\n\n                series: [\n                    {\n                        name: firstYear.toString(),\n                        data: datasetFirstYear,\n                        color: colors[4],\n                        zIndex: 0,\n                    },\n                    {\n                        name: secondYear.toString(),\n                        data: datasetSecondYear,\n                        zIndex: 1,\n                        dashStyle: \"ShortDashDot\",\n                        color: colors[1],\n                    },\n                    {\n                        name: thirdYear.toString(),\n                        data: datasetThirdYear,\n                        zIndex: 2,\n                        dashStyle: \"ShortDot\",\n                        color: colors[2],\n                    },\n                ],\n                //define the Export value\n                exporting: {\n                    csv: {\n                        dateFormat: \"%Y-%m-%d\",\n                    },\n                },\n            });\n            //Target the copy to clipboard button within the dashboard\n            document\n                .getElementById(datatype + \"-getcsv\")\n                //Add an onclick listener which stores the CSV information of the chart inside the clipboard.\n                .addEventListener(\"click\", function () {\n                    navigator.clipboard.writeText(chart.getCSV());\n                });\n        });\n    }\n});\n","Highcharts.theme = {\n    navigator: {\n        series: {\n            color: '#5f98cf',\n            lineColor: '#5f98cf'\n        },\n    },\n    chart: {\n        backgroundColor: {\n            linearGradient: [0, 0, 500, 500],\n            stops: [\n                [0, 'rgb(255, 255, 255)'],\n                [1, 'rgb(255, 255, 255)']\n            ]\n        },\n    },\n    title: {\n        style: {\n            color: '#000',\n            font: 'bold 1rem \"Roboto\", Verdana, sans-serif'\n        }\n    },\n    subtitle: {\n        style: {\n            color: '#666666',\n            font: 'bold 12px \"Roboto MS\", Verdana, sans-serif'\n        }\n    },\n    legend: {\n        itemStyle: {\n            font: '9pt Roboto MS, Verdana, sans-serif',\n            color: 'black'\n        },\n        itemHoverStyle:{\n            color: 'gray'\n        }\n    }\n};\n// Apply the theme\nHighcharts.setOptions(Highcharts.theme);","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["jQuery","$","selector","click","button","this","parent","attr","ajax","url","ajaxurl","type","data","beforeSend","xhr","hide","before","success","prev","remove","find","html","on","form","serialize","append","show","window","location","reload","currentYear","Date","getFullYear","console","log","RRZESTATISTIKTRANSFER","linechartDataset","document","addEventListener","event","dataTypes","chartTypes","forEach","dataType","getElementById","push","firstYear","secondYear","thirdYear","datatype","filterData","dataset","year","filter","toString","outputThirdYear","outputSecondYear","generateDatasets","datasetOutput","parseInt","month","datasetFirstYear","datasetSecondYear","datasetThirdYear","colors","Highcharts","getOptions","chart","displayType","renderTo","legend","symbolWidth","title","text","languagePackage","headline_chart","yAxis","ordinate_desc","accessibility","description","xAxis","abscissaTitle","a11yAbscissa","categories","abscissaDescriptiontext","tooltip","valueSuffix","plotOptions","series","cursor","name","color","zIndex","dashStyle","exporting","csv","dateFormat","navigator","clipboard","writeText","getCSV","theme","lineColor","backgroundColor","linearGradient","stops","style","font","subtitle","itemStyle","itemHoverStyle","setOptions","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call"],"sourceRoot":""}